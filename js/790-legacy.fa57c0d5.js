(self["webpackChunkdz_swap"]=self["webpackChunkdz_swap"]||[]).push([[790],{4790:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return Pe}});var a=t(6252),i=t(3577),r=t(9963),o=t.p+"img/arrow-icon.5e8ddd65.svg",s=t(8912);(0,a.dD)("data-v-cd50d53a");var c={class:"swap-page container"},u={class:"swap-card"},l={class:"transfer-box"},d={class:"swap-input-box"},p={class:"flex flex-between flex-align-center"},f=(0,a._)("span",null,"From",-1),m={class:"flex flex-align-center"},v={class:"c-input-group"},g=(0,a._)("div",{class:"v-line"},null,-1),w=["src"],x={class:"name"},b={class:"swap-input-box"},_=(0,a._)("div",{class:"flex flex-between flex-align-center"},[(0,a._)("span",null,"To")],-1),h={class:"c-input-group"},y=(0,a._)("div",{class:"v-line"},null,-1),k=["src"],A={class:"name"},C=(0,a._)("img",{src:o,alt:""},null,-1),S=[C],P={class:"flex flex-between flex-align-center my-3"},z=(0,a._)("i",{class:"setting-icon"},null,-1),T=[z],M=["disabled"],I=["disabled"],V={key:0,class:"btn-loading"},N={style:{"margin-left":".3rem"}},R={class:"exchange-record"},$={class:""},E={class:"font-bold"},O={key:0,class:"no-data flex flex-col flex-center flex-align-center"},D=(0,a._)("img",{src:s.Z,alt:""},null,-1),Z={class:"text-grey-9"},j={class:"record-list"},U={class:"record-info"},L={class:"record-info"},F={class:"coin-item"},H={class:"font16 font-bold"},B=(0,a._)("div",{class:"transfer-icon-circle"},[(0,a._)("i",{class:"transfer-record-icon"})],-1),K={class:"coin-item text-right"},W={class:"font16 font-bold"},X={class:"record-info"},q={class:""},Y=["href"],G={class:"s-value"},Q=(0,a._)("i",{class:"open-tab-icon"},null,-1);function J(n,e,t,o,s,C){var z=(0,a.up)("CoinOptionsModal"),J=(0,a.up)("van-popup"),nn=(0,a.up)("SwapSettingModal"),en=(0,a.up)("TransactionTipModal");return(0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",u,[(0,a._)("div",l,[(0,a._)("div",d,[(0,a._)("div",p,[f,(0,a._)("div",m,[(0,a._)("button",{class:"max-btn",onClick:e[0]||(e[0]=function(){return o.setMaxInput&&o.setMaxInput.apply(o,arguments)})},"Max"),(0,a._)("div",null,(0,i.zw)(o.state.coinBalance),1)])]),(0,a._)("div",v,[(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=function(n){return o.state.inputAmount=n}),onInput:e[2]||(e[2]=function(){return o.inputChange&&o.inputChange.apply(o,arguments)})},null,544),[[r.nr,o.state.inputAmount]]),g,(0,a._)("div",{class:"append flex flex-align-center",onClick:e[3]||(e[3]=function(n){return o.showCoinModal(0)})},[(0,a._)("img",{src:o.state.coinPair[0].icon||"./coin/default.svg",alt:""},null,8,w),(0,a._)("span",x,(0,i.zw)(o.state.coinPair[0].symbol),1)])])]),(0,a._)("div",b,[_,(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{type:"number",disabled:"","onUpdate:modelValue":e[4]||(e[4]=function(n){return o.state.outAmount=n})},null,512),[[r.nr,o.state.outAmount]]),y,(0,a._)("div",{class:"append flex flex-align-center",onClick:e[5]||(e[5]=function(n){return o.showCoinModal(1)})},[(0,a._)("img",{src:o.state.coinPair[1].icon||"./coin/default.svg",alt:""},null,8,k),(0,a._)("span",A,(0,i.zw)(o.state.coinPair[1].symbol),1)])])]),(0,a._)("div",{class:"transfer-icon",onClick:e[6]||(e[6]=function(){return o.onExchangeCoin&&o.onExchangeCoin.apply(o,arguments)})},S)]),(0,a._)("div",P,[(0,a._)("button",{class:"setting-btn",onClick:e[7]||(e[7]=function(n){return o.state.settingModal=!0})},T),o.state.inputCoinApprove?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"primary-btn w-100",disabled:"exchangeNow"!==o.btnStatus||o.state.loading,onClick:e[8]||(e[8]=function(n){return o.confirmSwap()})},(0,i.zw)(n.$t(o.btnStatus||"exchangeNow")),9,M)):((0,a.wg)(),(0,a.iD)("button",{key:1,class:"primary-btn w-100 flex flex-align-center flex-center",onClick:e[9]||(e[9]=function(n){return o.onApprove()}),disabled:o.state.loading},[o.state.loading?((0,a.wg)(),(0,a.iD)("span",V)):(0,a.kq)("",!0),(0,a._)("span",N,"Approve "+(0,i.zw)(o.state.coinPair[0].symbol),1)],8,I))]),(0,a._)("div",null,[(0,a._)("div",null,[(0,a._)("span",null,(0,i.zw)(n.$t("swapView.minReceive"))+": "+(0,i.zw)(o.state.minOutAmount)+" "+(0,i.zw)(o.state.coinPair[1].symbol),1)])])]),(0,a._)("div",R,[(0,a._)("div",$,[(0,a._)("span",E,(0,i.zw)(n.$t("swapView.exchangeRecord")),1)]),0===o.swapTransactionList.length?((0,a.wg)(),(0,a.iD)("div",O,[D,(0,a._)("div",Z,(0,i.zw)(n.$t("noData")),1)])):(0,a.kq)("",!0),(0,a._)("div",j,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.swapTransactionList,(function(e,t){return(0,a.wg)(),(0,a.iD)("div",{class:"record-item",key:t},[(0,a._)("div",U,[(0,a._)("span",{class:(0,i.C_)(["font-bold",e.status])},(0,i.zw)(n.$t(e.status||"SUCCESS")),3),(0,a._)("span",null,(0,i.zw)(e.timestamp),1)]),(0,a._)("div",L,[(0,a._)("div",F,[(0,a._)("div",H,(0,i.zw)(e.fromSymbol),1),(0,a._)("div",null,(0,i.zw)(e.fromValue),1)]),B,(0,a._)("div",K,[(0,a._)("div",W,(0,i.zw)(e.toSymbol),1),(0,a._)("div",null,(0,i.zw)(e.toValue),1)])]),(0,a._)("div",X,[(0,a._)("span",q,(0,i.zw)(n.$t("hash"))+":",1),(0,a._)("a",{class:"value flex flex-align-center",href:"https://tronscan.io/#/transaction/".concat(e.txHash),target:"_blank"},[(0,a._)("div",G,(0,i.zw)(e.txHash),1),Q],8,Y)])])})),128))])]),(0,a.Wm)(J,{class:"modal-popup",position:"bottom",show:o.state.coinModal,"onUpdate:show":e[11]||(e[11]=function(n){return o.state.coinModal=n})},{default:(0,a.w5)((function(){return[(0,a.Wm)(z,{onClose:e[10]||(e[10]=function(n){return o.state.coinModal=!1}),onSelect:o.onSelectCoin},null,8,["onSelect"])]})),_:1},8,["show"]),(0,a.Wm)(J,{class:"modal-popup",position:"bottom",show:o.state.settingModal,"onUpdate:show":e[13]||(e[13]=function(n){return o.state.settingModal=n})},{default:(0,a.w5)((function(){return[(0,a.Wm)(nn,{onClose:e[12]||(e[12]=function(n){return o.state.settingModal=!1}),onOnSet:o.changeSetting},null,8,["onOnSet"])]})),_:1},8,["show"]),(0,a.Wm)(J,{class:"modal-popup",position:"center",show:o.tipModal,"onUpdate:show":e[15]||(e[15]=function(n){return o.tipModal=n})},{default:(0,a.w5)((function(){return[(0,a.Wm)(en,{onClose:e[14]||(e[14]=function(n){return o.tipModal=!1}),loading:o.state.loading,"token1-price":o.state.token1Price,"coin-pair":o.state.coinPair,"input-amount":o.state.inputAmount,"out-amount":o.state.outAmount},null,8,["loading","token1-price","coin-pair","input-amount","out-amount"])]})),_:1},8,["show"])])}(0,a.Cn)();t(1087);var nn=t(5803),en=t(8534),tn=(t(1539),t(9714),t(9653),t(5666),t(2262)),an=t(463),rn=(t(8309),t(8704));(0,a.dD)("data-v-3c526bfc");var on={class:"c-modal-card c-modal-bottom"},sn={class:"c-modal-header"},cn={class:"title"},un={class:"c-modal-content"},ln={class:"c-input-group c-input-group-box"},dn=(0,a._)("i",{class:"prepend search-icon"},null,-1),pn=(0,a._)("div",{class:"recommend-coin"},null,-1),fn={class:"coin-list"},mn=["onClick"],vn={class:"coin-img"},gn=["src"],wn={class:"flex flex-align-center flex-between w-100 item-info"},xn={class:"flex flex-col"},bn={class:"font16"},_n={class:"font12 text-grey-6"},hn={class:"text-grey-6"},yn={class:"c-loading"};function kn(n,e,t,o,s,c){return(0,a.wg)(),(0,a.iD)("div",on,[(0,a._)("div",sn,[(0,a._)("div",cn,(0,i.zw)(n.$t("selectToken")),1),(0,a._)("img",{onClick:e[0]||(e[0]=function(e){return n.$emit("close")}),class:"close-icon",src:rn.Z,alt:""})]),(0,a._)("div",un,[(0,a._)("div",ln,[dn,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=function(n){return o.state.searchText=n}),onInput:e[2]||(e[2]=function(){return o.inputChange&&o.inputChange.apply(o,arguments)})},null,544),[[r.nr,o.state.searchText]])]),pn,(0,a._)("div",fn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.state.coinList,(function(e){return(0,a.wg)(),(0,a.iD)("div",{class:"list-item",key:e.symbol,onClick:function(t){return n.$emit("select",e)}},[(0,a._)("div",vn,[(0,a._)("img",{src:e.icon||"./coin/default.svg",alt:""},null,8,gn)]),(0,a._)("div",wn,[(0,a._)("div",xn,[(0,a._)("span",bn,(0,i.zw)(e.symbol),1),(0,a._)("span",_n,(0,i.zw)(e.name),1)]),(0,a._)("span",hn,(0,i.zw)(o.formatAddress(e.address)),1)])],8,mn)})),128)),(0,a.wy)((0,a._)("div",yn,null,512),[[r.F8,o.state.loading]])])])])}(0,a.Cn)();t(7327),t(3210);var An=t(1994),Cn=t(1296),Sn=t.n(Cn),Pn=t(6058),zn={name:"CoinOptionsModal",emits:["close","select"],setup:function(){var n=(0,a.f3)("chainInfo"),e=(0,tn.qj)({loading:!1,searchText:"",coinList:an.xK.TRON}),t=function(){var t=(0,en.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,(0,Pn.z3)(n,e.searchText);case 3:a=t.sent,e.loading=!1,e.coinList=a?[a]:[];case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=Sn()((function(){n.provider.isAddress(e.searchText)?t():e.coinList=an.xK.TRON.filter((function(n){return n.name.indexOf(e.searchText.trim().toUpperCase())>=0}))}),1e3);return{state:e,formatAddress:An.Tg,inputChange:i}}};zn.render=kn,zn.__scopeId="data-v-3c526bfc";var Tn=zn;(0,a.dD)("data-v-7866bf41");var Mn={class:"c-modal-card c-modal-bottom"},In={class:"c-modal-header"},Vn={class:"title text-center"},Nn={class:"c-modal-content"},Rn={class:"setting-card mb-2"},$n={class:"flex flex-align-center mb-3"},En={class:"c-input-group c-input-group-box mx-3"},On=(0,a._)("span",{class:"append"},"%",-1),Dn={class:"flex flex-between my-2"},Zn=["onClick"],jn={class:"font12 text-grey-6"},Un={class:"setting-card"},Ln={class:"flex flex-align-center mb-3"},Fn={class:"c-input-group c-input-group-box mx-3"},Hn={class:"font12 text-grey-6"};function Bn(n,e,t,o,s,c){var u=(0,a.up)("van-slider");return(0,a.wg)(),(0,a.iD)("div",Mn,[(0,a._)("div",In,[(0,a._)("div",Vn,(0,i.zw)(n.$t("swapView.transferSetting")),1),(0,a._)("img",{onClick:e[0]||(e[0]=function(e){return n.$emit("close")}),class:"close-icon",src:rn.Z,alt:""})]),(0,a._)("div",Nn,[(0,a._)("div",Rn,[(0,a._)("div",$n,[(0,a._)("div",null,(0,i.zw)(n.$t("swapView.slippageSetting")),1),(0,a._)("div",En,[(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=function(n){return o.state.inputSliderValue=n})},null,512),[[r.nr,o.state.inputSliderValue]]),On])]),(0,a.Wm)(u,{modelValue:o.state.sliderValue,"onUpdate:modelValue":e[2]||(e[2]=function(n){return o.state.sliderValue=n}),min:1,max:5,step:.5,onChange:o.onChange},null,8,["modelValue","step","onChange"]),(0,a._)("div",Dn,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(5,(function(n){return(0,a._)("span",{key:n,onClick:function(e){return o.state.sliderValue=n}},(0,i.zw)(n)+"%",9,Zn)})),64))]),(0,a._)("div",jn,(0,i.zw)(n.$t("swapView.settingTip1")),1)]),(0,a._)("div",Un,[(0,a._)("div",Ln,[(0,a._)("div",null,(0,i.zw)(n.$t("swapView.deadline")),1),(0,a._)("div",Fn,[(0,a.wy)((0,a._)("input",{class:"text-center",type:"number","onUpdate:modelValue":e[3]||(e[3]=function(n){return o.state.deadline=n})},null,512),[[r.nr,o.state.deadline]])]),(0,a._)("div",null,(0,i.zw)(n.$t("swapView.min")),1)]),(0,a._)("div",Hn,(0,i.zw)(n.$t("swapView.settingTip2")),1)]),(0,a._)("button",{class:"primary-btn w-100 mt-3 mb-4",onClick:e[4]||(e[4]=function(e){return n.$emit("onSet",o.state)})},(0,i.zw)(n.$t("swapView.confirmSet")),1)])])}(0,a.Cn)();var Kn={name:"SwapSettingModal",setup:function(){var n=(0,tn.qj)({inputSliderValue:1.5,sliderValue:1.5,deadline:1}),e=function(){n.inputSliderValue=n.sliderValue};return{state:n,onChange:e}}};Kn.render=Bn,Kn.__scopeId="data-v-7866bf41";var Wn=Kn,Xn=t.p+"img/success-icon.4405b613.svg";(0,a.dD)("data-v-188c537a");var qn={class:"c-modal-card c-modal-bottom"},Yn={key:0,class:"c-modal-content"},Gn={class:"title text-center"},Qn={class:"coin-info"},Jn={class:"coin-item"},ne={class:"font16 font-bold"},ee=(0,a._)("div",{class:"transfer-icon-circle"},[(0,a._)("i",{class:"transfer-icon"})],-1),te={class:"coin-item"},ae={class:"font16 font-bold"},ie=(0,a._)("div",{class:"h-divide-line my-2"},null,-1),re={class:"row-info"},oe={class:"primary-btn w-100 mt-3",disabled:""},se=(0,a._)("span",{class:"btn-loading"},null,-1),ce={style:{"margin-left":".3rem"}},ue={key:1,class:"c-modal-content"},le={class:"tip-img"},de=(0,a._)("img",{src:Xn,alt:""},null,-1),pe={class:"coin-info"},fe={class:"coin-item"},me={class:"font16 font-bold"},ve=(0,a._)("div",{class:"transfer-icon-circle"},[(0,a._)("i",{class:"transfer-icon"})],-1),ge={class:"coin-item"},we={class:"font16 font-bold"};function xe(n,e,t,r,o,s){return(0,a.wg)(),(0,a.iD)("div",qn,[t.loading?((0,a.wg)(),(0,a.iD)("div",Yn,[(0,a._)("div",Gn,(0,i.zw)(n.$t("swapView.swapStatus")),1),(0,a._)("div",Qn,[(0,a._)("div",Jn,[(0,a._)("div",ne,(0,i.zw)(t.coinPair[0].symbol),1),(0,a._)("div",null,(0,i.zw)(t.inputAmount),1)]),ee,(0,a._)("div",te,[(0,a._)("div",ae,(0,i.zw)(t.coinPair[1].symbol),1),(0,a._)("div",null,(0,i.zw)(t.outAmount),1)])]),ie,(0,a._)("div",re,[(0,a._)("span",null,(0,i.zw)(n.$t("swapView.exchangePrice")),1),(0,a._)("div",null,[(0,a._)("div",null,"1 "+(0,i.zw)(t.coinPair[0].symbol)+" = "+(0,i.zw)(t.token1Price)+" "+(0,i.zw)(t.coinPair[1].symbol),1)])]),(0,a._)("button",oe,[se,(0,a._)("span",ce,(0,i.zw)(n.$t("exchangeTip1")),1)])])):((0,a.wg)(),(0,a.iD)("div",ue,[(0,a._)("div",le,[de,(0,a._)("div",null,(0,i.zw)(n.$t("exchangeComplete")),1)]),(0,a._)("div",pe,[(0,a._)("div",fe,[(0,a._)("div",me,(0,i.zw)(t.coinPair[0].symbol),1),(0,a._)("div",null,(0,i.zw)(t.inputAmount),1)]),ve,(0,a._)("div",ge,[(0,a._)("div",we,(0,i.zw)(t.coinPair[1].symbol),1),(0,a._)("div",null,(0,i.zw)(t.outAmount),1)])]),(0,a._)("button",{class:"primary-btn w-100 mt-4",onClick:e[0]||(e[0]=function(e){return n.$emit("close")})},(0,i.zw)(n.$t("close")),1)]))])}(0,a.Cn)();var be={name:"TransactionTipModal",props:{coinPair:Array,inputAmount:[String,Number],outAmount:[String,Number],token1Price:[String,Number],token2Price:[String,Number],loading:Boolean},setup:function(){return{}}};be.render=xe,be.__scopeId="data-v-188c537a";var _e=be,he=t(335),ye=t(6441),ke=t(558),Ae=t(1522),Ce=t(894),Se={name:"Index",components:{CoinOptionsModal:Tn,SwapSettingModal:Wn,TransactionTipModal:_e},setup:function(){var n=(0,a.f3)("chainInfo"),e=(0,Ce.oR)(),t=(0,Ae.QT)(),i=t.t,r=(0,tn.qj)({coinPair:[an.xK[n.chainName][1],an.xK[n.chainName][2]],activeIndex:0,inputAmount:"",outAmount:"",minOutAmount:"--",coinModal:!1,settingModal:!1,coinBalance:"--",inputCoinApprove:!0,transferData:{},loading:!1,token1Price:"--",token2Price:"--"}),o=(0,tn.iH)(!1),s=(0,tn.iH)(null),c=(0,tn.qj)({inputSliderValue:1.5,deadline:1}),u=(0,tn.qj)({address1:"",address2:""}),l=function(n){r.coinModal=!0,r.activeIndex=n},d=function(){r.coinPair.reverse(),x()},p=function(n){r.settingModal=!1,c.inputSliderValue=n.inputSliderValue,c.deadline=n.deadline,b()},f=function(n){if(r.coinModal=!1,n.symbol!==r.coinPair[r.activeIndex].symbol){if(n.symbol===r.coinPair[1-r.activeIndex].symbol)return r.coinPair.reverse(),void x();r.coinPair[r.activeIndex]=n,x()}},m=function(){(0,ke.kE)(r.coinBalance)&&(r.inputAmount=r.coinBalance,x())},v=Sn()((function(){r.inputAmount=String(r.inputAmount),x()}),1e3),g=function(){var e=(0,en.Z)(regeneratorRuntime.mark((function e(t,a,i,r){var o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o="",s="",!i){e.next=8;break}return e.next=5,k();case 5:return e.next=7,(0,Pn.gK)(n,i,ye.vz(t,a.decimal));case 7:o=e.sent;case 8:if(!r){e.next=12;break}return e.next=11,(0,Pn.il)(n,r,o||ye.vz(t,a.decimal));case 11:s=e.sent;case 12:return e.abrupt("return",[o,s]);case 13:case"end":return e.stop()}}),e)})));return function(n,t,a,i){return e.apply(this,arguments)}}(),w=function(){var e=(0,en.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u.address1="",u.address2="","TRX"===r.coinPair[0].symbol){e.next=6;break}return e.next=5,(0,Pn.H3)(n,r.coinPair[0].address);case 5:u.address1=e.sent;case 6:if("TRX"===r.coinPair[1].symbol){e.next=10;break}return e.next=9,(0,Pn.H3)(n,r.coinPair[1].address);case 9:u.address2=e.sent;case 10:if("410000000000000000000000000000000000000000"!==u.address1&&"410000000000000000000000000000000000000000"!==u.address2){e.next=13;break}return(0,nn.Z)(i("coinPairNotOpen")),e.abrupt("return");case 13:return e.next=15,g("1",r.coinPair[0],u.address1,u.address2);case 15:t=e.sent,r.token1Price=ye.bM(t[1]||t[0],r.coinPair[1].decimal);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,en.Z)(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.outAmount="",e.next=3,w();case 3:if((0,ke.kE)(r.inputAmount)){e.next=5;break}return e.abrupt("return");case 5:if(r.outAmount="",t="",a="","410000000000000000000000000000000000000000"!==u.address1&&"410000000000000000000000000000000000000000"!==u.address2){e.next=11;break}return(0,nn.Z)(i("coinPairNotOpen")),e.abrupt("return");case 11:if(!u.address1){e.next=15;break}return e.next=14,(0,Pn.gK)(n,u.address1,ye.vz(r.inputAmount,r.coinPair[0].decimal));case 14:t=e.sent;case 15:if(!u.address2){e.next=19;break}return e.next=18,(0,Pn.il)(n,u.address2,t||ye.vz(r.inputAmount,r.coinPair[0].decimal));case 18:a=e.sent;case 19:r.outAmount=ye.bM(a||t,r.coinPair[1].decimal),b();case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){r.minOutAmount=he.xs.from(r.outAmount).mulUnsafe(he.xs.from((100-Number(c.inputSliderValue)).toString())).divUnsafe(he.xs.from(100)).round(r.coinPair[1].decimal).toString()},_=function(){var e=(0,en.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,Pn.yX)(n,r.coinPair[0].address,r.coinPair[0].decimal);case 2:r.coinBalance=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=(0,tn.Fl)((function(){return(0,ke.kE)(r.inputAmount)&&(0,ke.kE)(r.outAmount)?Number(r.inputAmount)>Number(r.coinBalance)?"insufficientBalance":"exchangeNow":""})),y=function(){var e=(0,en.Z)(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r.loading=!0,t={minOutAmount:ye.vz(r.minOutAmount,r.coinPair[1].decimal),deadline:Math.floor((new Date).getTime()/1e3)+60*c.deadline,inputAmount:ye.vz(r.inputAmount,r.coinPair[0].decimal)},a="","TRX"!==r.coinPair[0].symbol){e.next=10;break}return e.next=7,(0,Pn.fi)(n,u.address2,t);case 7:a=e.sent,e.next=19;break;case 10:if("TRX"!==r.coinPair[1].symbol){e.next=16;break}return e.next=13,(0,Pn.YU)(n,u.address1,t);case 13:a=e.sent,e.next=19;break;case 16:return e.next=18,(0,Pn.j0)(n,u.address1,t,r.coinPair[1].address);case 18:a=e.sent;case 19:if(console.log(a),!a){e.next=26;break}return o.value=!0,e.next=24,C(a);case 24:return e.next=26,_();case 26:r.loading=!1,e.next=35;break;case 29:e.prev=29,e.t0=e["catch"](0),r.inputCoinApprove=!0,r.loading=!1,(0,nn.Z)(e.t0.data||e.t0.message||e.t0),console.log(e.t0);case 35:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,en.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("TRX"!==r.coinPair[0].symbol){e.next=3;break}return r.inputCoinApprove=!0,e.abrupt("return");case 3:return e.next=5,(0,Pn.M1)(n,r.coinPair[0].address,u.address1);case 5:t=e.sent,r.inputCoinApprove=t._isBigNumber?!t.isZero():!t.remaining.isZero();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,en.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r.loading=!0,e.next=4,(0,Pn.dE)(n,u.address1,r.coinPair[0].address,r.coinPair[0].decimal);case 4:return r.loading=!1,e.next=7,k();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),r.loading=!1,(0,nn.Z)(e.t0.data||e.t0.message||e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),C=function(n){var t={timestamp:"",txHash:n,fromSymbol:r.coinPair[0].symbol,fromValue:r.inputAmount,toSymbol:r.coinPair[1].symbol,toValue:r.outAmount,status:"exchangeLoading"};e.dispatch("committedSwapTransaction",t)},S=(0,tn.Fl)((function(){return e.state.swapTransactionList})),P=(0,tn.Fl)((function(){return e.state.swapPendingTxHashList})),z=function(){s.value=setInterval((0,en.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.provider.trx.getConfirmedTransaction(P.value[0]);case 3:if(a=t.sent,!a){t.next=7;break}return t.next=7,e.dispatch("committedSwapTransaction",{timestamp:(0,An.mr)(a.raw_data.timestamp),status:a.ret[0].contractRet,txHash:P.value[0]});case 7:t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])}))),3e3)};return(0,a.bv)((function(){e.dispatch("getSwapRecord")})),(0,a.yX)((0,en.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.isActive){e.next=5;break}return e.next=3,_();case 3:return e.next=5,w();case 5:case"end":return e.stop()}}),e)})))),(0,a.YP)(o,(function(n,e){e&&!n&&(r.loading=!1,r.inputAmount="",r.outAmount="",r.minOutAmount="--")})),(0,a.m0)((function(){if(P.value.length>0){if(s.value)return;z()}else clearInterval(s.value),s.value=null})),{state:r,showCoinModal:l,setMaxInput:m,onExchangeCoin:d,onSelectCoin:f,inputChange:v,changeSetting:p,confirmSwap:y,isNumeric:ke.kE,formatTime:An.mr,setTransactionInfo:C,swapTransactionList:S,btnStatus:h,onApprove:A,tipModal:o}}};Se.render=J,Se.__scopeId="data-v-cd50d53a";var Pe=Se},6091:function(n,e,t){var a=t(7293),i=t(1361),r="​᠎";n.exports=function(n){return a((function(){return!!i[n]()||r[n]()!=r||i[n].name!==n}))}},3111:function(n,e,t){var a=t(4488),i=t(1340),r=t(1361),o="["+r+"]",s=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),u=function(n){return function(e){var t=i(a(e));return 1&n&&(t=t.replace(s,"")),2&n&&(t=t.replace(c,"")),t}};n.exports={start:u(1),end:u(2),trim:u(3)}},1361:function(n){n.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9653:function(n,e,t){"use strict";var a=t(9781),i=t(7854),r=t(4705),o=t(1320),s=t(6656),c=t(4326),u=t(9587),l=t(2190),d=t(7593),p=t(7293),f=t(30),m=t(8006).f,v=t(1236).f,g=t(3070).f,w=t(3111).trim,x="Number",b=i[x],_=b.prototype,h=c(f(_))==x,y=function(n){if(l(n))throw TypeError("Cannot convert a Symbol value to a number");var e,t,a,i,r,o,s,c,u=d(n,"number");if("string"==typeof u&&u.length>2)if(u=w(u),e=u.charCodeAt(0),43===e||45===e){if(t=u.charCodeAt(2),88===t||120===t)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+u}for(r=u.slice(2),o=r.length,s=0;s<o;s++)if(c=r.charCodeAt(s),c<48||c>i)return NaN;return parseInt(r,a)}return+u};if(r(x,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var k,A=function(n){var e=arguments.length<1?0:n,t=this;return t instanceof A&&(h?p((function(){_.valueOf.call(t)})):c(t)!=x)?u(new b(y(e)),t,A):y(e)},C=a?m(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;C.length>S;S++)s(b,k=C[S])&&!s(A,k)&&g(A,k,v(b,k));A.prototype=_,_.constructor=A,o(i,x,A)}},3210:function(n,e,t){"use strict";var a=t(2109),i=t(3111).trim,r=t(6091);a({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},8704:function(n,e,t){"use strict";e["Z"]=t.p+"img/close-icon.bb2f771b.svg"},1296:function(n,e,t){var a="Expected a function",i=NaN,r="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,d="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g,p="object"==typeof self&&self&&self.Object===Object&&self,f=d||p||Function("return this")(),m=Object.prototype,v=m.toString,g=Math.max,w=Math.min,x=function(){return f.Date.now()};function b(n,e,t){var i,r,o,s,c,u,l=0,d=!1,p=!1,f=!0;if("function"!=typeof n)throw new TypeError(a);function m(e){var t=i,a=r;return i=r=void 0,l=e,s=n.apply(a,t),s}function v(n){return l=n,c=setTimeout(y,e),d?m(n):s}function b(n){var t=n-u,a=n-l,i=e-t;return p?w(i,o-a):i}function h(n){var t=n-u,a=n-l;return void 0===u||t>=e||t<0||p&&a>=o}function y(){var n=x();if(h(n))return A(n);c=setTimeout(y,b(n))}function A(n){return c=void 0,f&&i?m(n):(i=r=void 0,s)}function C(){void 0!==c&&clearTimeout(c),l=0,i=u=r=c=void 0}function S(){return void 0===c?s:A(x())}function P(){var n=x(),t=h(n);if(i=arguments,r=this,u=n,t){if(void 0===c)return v(u);if(p)return c=setTimeout(y,e),m(u)}return void 0===c&&(c=setTimeout(y,e)),s}return e=k(e)||0,_(t)&&(d=!!t.leading,p="maxWait"in t,o=p?g(k(t.maxWait)||0,e):o,f="trailing"in t?!!t.trailing:f),P.cancel=C,P.flush=S,P}function _(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function h(n){return!!n&&"object"==typeof n}function y(n){return"symbol"==typeof n||h(n)&&v.call(n)==r}function k(n){if("number"==typeof n)return n;if(y(n))return i;if(_(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=_(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(o,"");var t=c.test(n);return t||u.test(n)?l(n.slice(2),t?2:8):s.test(n)?i:+n}n.exports=b},8912:function(n,e,t){"use strict";e["Z"]=t.p+"img/no-data.798a5c21.png"}}]);