(self["webpackChunkdz_swap"]=self["webpackChunkdz_swap"]||[]).push([[733],{6733:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return St}});var a=e(6252),i=e(3577),r=e(9963),o=e.p+"img/arrow-icon.5e8ddd65.svg",s=e(8912);(0,a.dD)("data-v-2c8fa4b8");var c={class:"swap-page container"},l={class:"swap-card"},u={class:"transfer-box"},d={class:"swap-input-box"},p={class:"flex flex-between flex-align-center"},f=(0,a._)("span",null,"From",-1),m={class:"flex flex-align-center"},v={class:"c-input-group"},g=(0,a._)("div",{class:"v-line"},null,-1),w=["src"],x={class:"name"},b={class:"swap-input-box"},_=(0,a._)("div",{class:"flex flex-between flex-align-center"},[(0,a._)("span",null,"To")],-1),h={class:"c-input-group"},y=(0,a._)("div",{class:"v-line"},null,-1),k=["src"],z={class:"name"},C=(0,a._)("img",{src:o,alt:""},null,-1),P=[C],S={class:"flex flex-between flex-align-center my-3"},A=(0,a._)("i",{class:"setting-icon"},null,-1),T=[A],M=["disabled"],V=["disabled"],R={key:0,class:"btn-loading"},$={style:{"margin-left":".3rem"}},D={class:"exchange-record"},O={class:""},I={class:"font-bold"},Z={key:0,class:"no-data flex flex-col flex-center flex-align-center"},N=(0,a._)("img",{src:s.Z,alt:""},null,-1),j={class:"text-grey-9"},U={class:"record-list"},E={class:"record-info"},H={class:"record-info"},L={class:"coin-item"},K={class:"font16 font-bold"},W=(0,a._)("div",{class:"transfer-icon-circle"},[(0,a._)("i",{class:"transfer-record-icon"})],-1),B={class:"coin-item text-right"},q={class:"font16 font-bold"},X={class:"record-info"},F={class:""},Y=["href"],Q={class:"s-value"},G=(0,a._)("i",{class:"open-tab-icon"},null,-1);function J(n,t,e,o,s,C){var A=(0,a.up)("CoinOptionsModal"),J=(0,a.up)("van-popup"),nn=(0,a.up)("SwapSettingModal"),tn=(0,a.up)("TransactionTipModal");return(0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",l,[(0,a._)("div",u,[(0,a._)("div",d,[(0,a._)("div",p,[f,(0,a._)("div",m,[(0,a._)("button",{class:"max-btn",onClick:t[0]||(t[0]=function(){return o.setMaxInput&&o.setMaxInput.apply(o,arguments)})},"Max"),(0,a._)("div",null,(0,i.zw)(o.state.coinBalance),1)])]),(0,a._)("div",v,[(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=function(n){return o.state.inputAmount=n}),onInput:t[2]||(t[2]=function(){return o.inputChange&&o.inputChange.apply(o,arguments)})},null,544),[[r.nr,o.state.inputAmount]]),g,(0,a._)("div",{class:"append flex flex-align-center",onClick:t[3]||(t[3]=function(n){return o.showCoinModal(0)})},[(0,a._)("img",{src:o.state.coinPair[0].icon||"./coin/default.svg",alt:""},null,8,w),(0,a._)("span",x,(0,i.zw)(o.state.coinPair[0].symbol),1)])])]),(0,a._)("div",b,[_,(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{type:"number",disabled:"","onUpdate:modelValue":t[4]||(t[4]=function(n){return o.state.outAmount=n})},null,512),[[r.nr,o.state.outAmount]]),y,(0,a._)("div",{class:"append flex flex-align-center",onClick:t[5]||(t[5]=function(n){return o.showCoinModal(1)})},[(0,a._)("img",{src:o.state.coinPair[1].icon||"./coin/default.svg",alt:""},null,8,k),(0,a._)("span",z,(0,i.zw)(o.state.coinPair[1].symbol),1)])])]),(0,a._)("div",{class:"transfer-icon",onClick:t[6]||(t[6]=function(){return o.onExchangeCoin&&o.onExchangeCoin.apply(o,arguments)})},P)]),(0,a._)("div",S,[(0,a._)("button",{class:"setting-btn",onClick:t[7]||(t[7]=function(n){return o.state.settingModal=!0})},T),o.state.inputCoinApprove?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"primary-btn w-100",disabled:"exchangeNow"!==o.btnStatus||o.state.loading,onClick:t[8]||(t[8]=function(n){return o.confirmSwap()})},(0,i.zw)(n.$t(o.btnStatus||"exchangeNow")),9,M)):((0,a.wg)(),(0,a.iD)("button",{key:1,class:"primary-btn w-100 flex flex-align-center flex-center",onClick:t[9]||(t[9]=function(n){return o.onApprove()}),disabled:o.state.loading},[o.state.loading?((0,a.wg)(),(0,a.iD)("span",R)):(0,a.kq)("",!0),(0,a._)("span",$,(0,i.zw)(n.$t("approve"))+" "+(0,i.zw)(o.state.coinPair[0].symbol),1)],8,V))]),(0,a._)("div",null,[(0,a._)("div",null,[(0,a._)("span",null,(0,i.zw)(n.$t("swapView.minReceive"))+": "+(0,i.zw)(o.state.minOutAmount)+" "+(0,i.zw)(o.state.coinPair[1].symbol),1)])])]),(0,a._)("div",D,[(0,a._)("div",O,[(0,a._)("span",I,(0,i.zw)(n.$t("swapView.exchangeRecord")),1)]),0===o.swapTransactionList.length?((0,a.wg)(),(0,a.iD)("div",Z,[N,(0,a._)("div",j,(0,i.zw)(n.$t("noData")),1)])):(0,a.kq)("",!0),(0,a._)("div",U,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.swapTransactionList,(function(t,e){return(0,a.wg)(),(0,a.iD)("div",{class:"record-item",key:e},[(0,a._)("div",E,[(0,a._)("span",{class:(0,i.C_)(["font-bold",t.status])},(0,i.zw)(n.$t(t.status||"SUCCESS")),3),(0,a._)("span",null,(0,i.zw)(t.timestamp),1)]),(0,a._)("div",H,[(0,a._)("div",L,[(0,a._)("div",K,(0,i.zw)(t.fromSymbol),1),(0,a._)("div",null,(0,i.zw)(t.fromValue),1)]),W,(0,a._)("div",B,[(0,a._)("div",q,(0,i.zw)(t.toSymbol),1),(0,a._)("div",null,(0,i.zw)(t.toValue),1)])]),(0,a._)("div",X,[(0,a._)("span",F,(0,i.zw)(n.$t("hash"))+":",1),(0,a._)("a",{class:"value flex flex-align-center",href:"https://tronscan.io/#/transaction/".concat(t.txHash),target:"_blank"},[(0,a._)("div",Q,(0,i.zw)(t.txHash),1),G],8,Y)])])})),128))])]),(0,a.Wm)(J,{class:"modal-popup",position:"bottom",show:o.state.coinModal,"onUpdate:show":t[11]||(t[11]=function(n){return o.state.coinModal=n})},{default:(0,a.w5)((function(){return[(0,a.Wm)(A,{onClose:t[10]||(t[10]=function(n){return o.state.coinModal=!1}),onSelect:o.onSelectCoin},null,8,["onSelect"])]})),_:1},8,["show"]),(0,a.Wm)(J,{class:"modal-popup",position:"bottom",show:o.state.settingModal,"onUpdate:show":t[13]||(t[13]=function(n){return o.state.settingModal=n})},{default:(0,a.w5)((function(){return[(0,a.Wm)(nn,{onClose:t[12]||(t[12]=function(n){return o.state.settingModal=!1}),onOnSet:o.changeSetting},null,8,["onOnSet"])]})),_:1},8,["show"]),(0,a.Wm)(J,{class:"modal-popup",position:"center",show:o.tipModal,"onUpdate:show":t[15]||(t[15]=function(n){return o.tipModal=n})},{default:(0,a.w5)((function(){return[(0,a.Wm)(tn,{onClose:t[14]||(t[14]=function(n){return o.tipModal=!1}),loading:o.state.loading,"token1-price":o.state.token1Price,"coin-pair":o.state.coinPair,"input-amount":o.state.inputAmount,"out-amount":o.state.outAmount},null,8,["loading","token1-price","coin-pair","input-amount","out-amount"])]})),_:1},8,["show"])])}(0,a.Cn)();e(1087);var nn=e(5803),tn=e(8534),en=(e(1539),e(9714),e(9653),e(5666),e(2262)),an=e(463),rn=(e(8309),e(8704));(0,a.dD)("data-v-3c526bfc");var on={class:"c-modal-card c-modal-bottom"},sn={class:"c-modal-header"},cn={class:"title"},ln={class:"c-modal-content"},un={class:"c-input-group c-input-group-box"},dn=(0,a._)("i",{class:"prepend search-icon"},null,-1),pn=(0,a._)("div",{class:"recommend-coin"},null,-1),fn={class:"coin-list"},mn=["onClick"],vn={class:"coin-img"},gn=["src"],wn={class:"flex flex-align-center flex-between w-100 item-info"},xn={class:"flex flex-col"},bn={class:"font16"},_n={class:"font12 text-grey-6"},hn={class:"text-grey-6"},yn={class:"c-loading"};function kn(n,t,e,o,s,c){return(0,a.wg)(),(0,a.iD)("div",on,[(0,a._)("div",sn,[(0,a._)("div",cn,(0,i.zw)(n.$t("selectToken")),1),(0,a._)("img",{onClick:t[0]||(t[0]=function(t){return n.$emit("close")}),class:"close-icon",src:rn.Z,alt:""})]),(0,a._)("div",ln,[(0,a._)("div",un,[dn,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(n){return o.state.searchText=n}),onInput:t[2]||(t[2]=function(){return o.inputChange&&o.inputChange.apply(o,arguments)})},null,544),[[r.nr,o.state.searchText]])]),pn,(0,a._)("div",fn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.state.coinList,(function(t){return(0,a.wg)(),(0,a.iD)("div",{class:"list-item",key:t.symbol,onClick:function(e){return n.$emit("select",t)}},[(0,a._)("div",vn,[(0,a._)("img",{src:t.icon||"./coin/default.svg",alt:""},null,8,gn)]),(0,a._)("div",wn,[(0,a._)("div",xn,[(0,a._)("span",bn,(0,i.zw)(t.symbol),1),(0,a._)("span",_n,(0,i.zw)(t.name),1)]),(0,a._)("span",hn,(0,i.zw)(o.formatAddress(t.address)),1)])],8,mn)})),128)),(0,a.wy)((0,a._)("div",yn,null,512),[[r.F8,o.state.loading]])])])])}(0,a.Cn)();e(7327),e(3210);var zn=e(1994),Cn=e(1296),Pn=e.n(Cn),Sn=e(6058),An={name:"CoinOptionsModal",emits:["close","select"],setup:function(){var n=(0,a.f3)("chainInfo"),t=(0,en.qj)({loading:!1,searchText:"",coinList:an.xK.TRON}),e=function(){var e=(0,tn.Z)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,(0,Sn.z3)(n,t.searchText);case 3:a=e.sent,t.loading=!1,t.coinList=a?[a]:[];case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=Pn()((function(){n.provider.isAddress(t.searchText)?e():t.coinList=an.xK.TRON.filter((function(n){return n.name.indexOf(t.searchText.trim().toUpperCase())>=0}))}),1e3);return{state:t,formatAddress:zn.Tg,inputChange:i}}};An.render=kn,An.__scopeId="data-v-3c526bfc";var Tn=An;(0,a.dD)("data-v-7866bf41");var Mn={class:"c-modal-card c-modal-bottom"},Vn={class:"c-modal-header"},Rn={class:"title text-center"},$n={class:"c-modal-content"},Dn={class:"setting-card mb-2"},On={class:"flex flex-align-center mb-3"},In={class:"c-input-group c-input-group-box mx-3"},Zn=(0,a._)("span",{class:"append"},"%",-1),Nn={class:"flex flex-between my-2"},jn=["onClick"],Un={class:"font12 text-grey-6"},En={class:"setting-card"},Hn={class:"flex flex-align-center mb-3"},Ln={class:"c-input-group c-input-group-box mx-3"},Kn={class:"font12 text-grey-6"};function Wn(n,t,e,o,s,c){var l=(0,a.up)("van-slider");return(0,a.wg)(),(0,a.iD)("div",Mn,[(0,a._)("div",Vn,[(0,a._)("div",Rn,(0,i.zw)(n.$t("swapView.transferSetting")),1),(0,a._)("img",{onClick:t[0]||(t[0]=function(t){return n.$emit("close")}),class:"close-icon",src:rn.Z,alt:""})]),(0,a._)("div",$n,[(0,a._)("div",Dn,[(0,a._)("div",On,[(0,a._)("div",null,(0,i.zw)(n.$t("swapView.slippageSetting")),1),(0,a._)("div",In,[(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=function(n){return o.state.inputSliderValue=n})},null,512),[[r.nr,o.state.inputSliderValue]]),Zn])]),(0,a.Wm)(l,{modelValue:o.state.sliderValue,"onUpdate:modelValue":t[2]||(t[2]=function(n){return o.state.sliderValue=n}),min:1,max:5,step:.5,onChange:o.onChange},null,8,["modelValue","step","onChange"]),(0,a._)("div",Nn,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(5,(function(n){return(0,a._)("span",{key:n,onClick:function(t){return o.state.sliderValue=n}},(0,i.zw)(n)+"%",9,jn)})),64))]),(0,a._)("div",Un,(0,i.zw)(n.$t("swapView.settingTip1")),1)]),(0,a._)("div",En,[(0,a._)("div",Hn,[(0,a._)("div",null,(0,i.zw)(n.$t("swapView.deadline")),1),(0,a._)("div",Ln,[(0,a.wy)((0,a._)("input",{class:"text-center",type:"number","onUpdate:modelValue":t[3]||(t[3]=function(n){return o.state.deadline=n})},null,512),[[r.nr,o.state.deadline]])]),(0,a._)("div",null,(0,i.zw)(n.$t("swapView.min")),1)]),(0,a._)("div",Kn,(0,i.zw)(n.$t("swapView.settingTip2")),1)]),(0,a._)("button",{class:"primary-btn w-100 mt-3 mb-4",onClick:t[4]||(t[4]=function(t){return n.$emit("onSet",o.state)})},(0,i.zw)(n.$t("swapView.confirmSet")),1)])])}(0,a.Cn)();var Bn={name:"SwapSettingModal",setup:function(){var n=(0,en.qj)({inputSliderValue:1.5,sliderValue:1.5,deadline:1}),t=function(){n.inputSliderValue=n.sliderValue};return{state:n,onChange:t}}};Bn.render=Wn,Bn.__scopeId="data-v-7866bf41";var qn=Bn,Xn=e.p+"img/success-icon.4405b613.svg";(0,a.dD)("data-v-188c537a");var Fn={class:"c-modal-card c-modal-bottom"},Yn={key:0,class:"c-modal-content"},Qn={class:"title text-center"},Gn={class:"coin-info"},Jn={class:"coin-item"},nt={class:"font16 font-bold"},tt=(0,a._)("div",{class:"transfer-icon-circle"},[(0,a._)("i",{class:"transfer-icon"})],-1),et={class:"coin-item"},at={class:"font16 font-bold"},it=(0,a._)("div",{class:"h-divide-line my-2"},null,-1),rt={class:"row-info"},ot={class:"primary-btn w-100 mt-3",disabled:""},st=(0,a._)("span",{class:"btn-loading"},null,-1),ct={style:{"margin-left":".3rem"}},lt={key:1,class:"c-modal-content"},ut={class:"tip-img"},dt=(0,a._)("img",{src:Xn,alt:""},null,-1),pt={class:"coin-info"},ft={class:"coin-item"},mt={class:"font16 font-bold"},vt=(0,a._)("div",{class:"transfer-icon-circle"},[(0,a._)("i",{class:"transfer-icon"})],-1),gt={class:"coin-item"},wt={class:"font16 font-bold"};function xt(n,t,e,r,o,s){return(0,a.wg)(),(0,a.iD)("div",Fn,[e.loading?((0,a.wg)(),(0,a.iD)("div",Yn,[(0,a._)("div",Qn,(0,i.zw)(n.$t("swapView.swapStatus")),1),(0,a._)("div",Gn,[(0,a._)("div",Jn,[(0,a._)("div",nt,(0,i.zw)(e.coinPair[0].symbol),1),(0,a._)("div",null,(0,i.zw)(e.inputAmount),1)]),tt,(0,a._)("div",et,[(0,a._)("div",at,(0,i.zw)(e.coinPair[1].symbol),1),(0,a._)("div",null,(0,i.zw)(e.outAmount),1)])]),it,(0,a._)("div",rt,[(0,a._)("span",null,(0,i.zw)(n.$t("swapView.exchangePrice")),1),(0,a._)("div",null,[(0,a._)("div",null,"1 "+(0,i.zw)(e.coinPair[0].symbol)+" = "+(0,i.zw)(e.token1Price)+" "+(0,i.zw)(e.coinPair[1].symbol),1)])]),(0,a._)("button",ot,[st,(0,a._)("span",ct,(0,i.zw)(n.$t("exchangeTip1")),1)])])):((0,a.wg)(),(0,a.iD)("div",lt,[(0,a._)("div",ut,[dt,(0,a._)("div",null,(0,i.zw)(n.$t("exchangeComplete")),1)]),(0,a._)("div",pt,[(0,a._)("div",ft,[(0,a._)("div",mt,(0,i.zw)(e.coinPair[0].symbol),1),(0,a._)("div",null,(0,i.zw)(e.inputAmount),1)]),vt,(0,a._)("div",gt,[(0,a._)("div",wt,(0,i.zw)(e.coinPair[1].symbol),1),(0,a._)("div",null,(0,i.zw)(e.outAmount),1)])]),(0,a._)("button",{class:"primary-btn w-100 mt-4",onClick:t[0]||(t[0]=function(t){return n.$emit("close")})},(0,i.zw)(n.$t("close")),1)]))])}(0,a.Cn)();var bt={name:"TransactionTipModal",props:{coinPair:Array,inputAmount:[String,Number],outAmount:[String,Number],token1Price:[String,Number],token2Price:[String,Number],loading:Boolean},setup:function(){return{}}};bt.render=xt,bt.__scopeId="data-v-188c537a";var _t=bt,ht=e(335),yt=e(6441),kt=e(558),zt=e(1522),Ct=e(894),Pt={name:"Index",components:{CoinOptionsModal:Tn,SwapSettingModal:qn,TransactionTipModal:_t},setup:function(){var n=(0,a.f3)("chainInfo"),t=(0,Ct.oR)(),e=(0,zt.QT)(),i=e.t,r=(0,en.qj)({coinPair:[an.xK[n.chainName][1],an.xK[n.chainName][2]],activeIndex:0,inputAmount:"",outAmount:"",minOutAmount:"--",coinModal:!1,settingModal:!1,coinBalance:"--",inputCoinApprove:!0,transferData:{},loading:!1,token1Price:"--",token2Price:"--"}),o=(0,en.iH)(!1),s=(0,en.iH)(null),c=(0,en.qj)({inputSliderValue:1.5,deadline:1}),l=(0,en.qj)({address1:"",address2:""}),u=function(n){r.coinModal=!0,r.activeIndex=n},d=function(){r.coinPair.reverse(),x()},p=function(n){r.settingModal=!1,c.inputSliderValue=n.inputSliderValue,c.deadline=n.deadline,b()},f=function(n){if(r.coinModal=!1,n.symbol!==r.coinPair[r.activeIndex].symbol){if(n.symbol===r.coinPair[1-r.activeIndex].symbol)return r.coinPair.reverse(),void x();r.coinPair[r.activeIndex]=n,x()}},m=function(){(0,kt.kE)(r.coinBalance)&&(r.inputAmount=r.coinBalance,x())},v=Pn()((function(){r.inputAmount=String(r.inputAmount),x()}),1e3),g=function(){var t=(0,tn.Z)(regeneratorRuntime.mark((function t(e,a,i,r){var o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o="",s="",!i){t.next=8;break}return t.next=5,k();case 5:return t.next=7,(0,Sn.gK)(n,i,yt.vz(e,a.decimal));case 7:o=t.sent;case 8:if(!r){t.next=12;break}return t.next=11,(0,Sn.il)(n,r,o||yt.vz(e,a.decimal));case 11:s=t.sent;case 12:return t.abrupt("return",[o,s]);case 13:case"end":return t.stop()}}),t)})));return function(n,e,a,i){return t.apply(this,arguments)}}(),w=function(){var t=(0,tn.Z)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(l.address1="",l.address2="","TRX"===r.coinPair[0].symbol){t.next=6;break}return t.next=5,(0,Sn.H3)(n,r.coinPair[0].address);case 5:l.address1=t.sent;case 6:if("TRX"===r.coinPair[1].symbol){t.next=10;break}return t.next=9,(0,Sn.H3)(n,r.coinPair[1].address);case 9:l.address2=t.sent;case 10:if("410000000000000000000000000000000000000000"!==l.address1&&"410000000000000000000000000000000000000000"!==l.address2){t.next=13;break}return(0,nn.Z)(i("coinPairNotOpen")),t.abrupt("return");case 13:return t.next=15,g("1",r.coinPair[0],l.address1,l.address2);case 15:e=t.sent,r.token1Price=yt.bM(e[1]||e[0],r.coinPair[1].decimal);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=(0,tn.Z)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.outAmount="",t.next=3,w();case 3:if((0,kt.kE)(r.inputAmount)){t.next=5;break}return t.abrupt("return");case 5:if(r.outAmount="",e="",a="","410000000000000000000000000000000000000000"!==l.address1&&"410000000000000000000000000000000000000000"!==l.address2){t.next=11;break}return(0,nn.Z)(i("coinPairNotOpen")),t.abrupt("return");case 11:if(!l.address1){t.next=15;break}return t.next=14,(0,Sn.gK)(n,l.address1,yt.vz(r.inputAmount,r.coinPair[0].decimal));case 14:e=t.sent;case 15:if(!l.address2){t.next=19;break}return t.next=18,(0,Sn.il)(n,l.address2,e||yt.vz(r.inputAmount,r.coinPair[0].decimal));case 18:a=t.sent;case 19:r.outAmount=yt.bM(a||e,r.coinPair[1].decimal),b();case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){r.minOutAmount=ht.xs.from(r.outAmount).mulUnsafe(ht.xs.from((100-Number(c.inputSliderValue)).toString())).divUnsafe(ht.xs.from(100)).round(r.coinPair[1].decimal).toString()},_=function(){var t=(0,tn.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,Sn.yX)(n,r.coinPair[0].address,r.coinPair[0].decimal);case 2:r.coinBalance=t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=(0,en.Fl)((function(){return(0,kt.kE)(r.inputAmount)&&(0,kt.kE)(r.outAmount)?Number(r.inputAmount)>Number(r.coinBalance)?"insufficientBalance":"exchangeNow":""})),y=function(){var t=(0,tn.Z)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,r.loading=!0,e={minOutAmount:yt.vz(r.minOutAmount,r.coinPair[1].decimal),deadline:Math.floor((new Date).getTime()/1e3)+60*c.deadline,inputAmount:yt.vz(r.inputAmount,r.coinPair[0].decimal)},a="","TRX"!==r.coinPair[0].symbol){t.next=10;break}return t.next=7,(0,Sn.fi)(n,l.address2,e);case 7:a=t.sent,t.next=19;break;case 10:if("TRX"!==r.coinPair[1].symbol){t.next=16;break}return t.next=13,(0,Sn.YU)(n,l.address1,e);case 13:a=t.sent,t.next=19;break;case 16:return t.next=18,(0,Sn.j0)(n,l.address1,e,r.coinPair[1].address);case 18:a=t.sent;case 19:if(console.log(a),!a){t.next=26;break}return o.value=!0,t.next=24,C(a);case 24:return t.next=26,_();case 26:r.loading=!1,t.next=35;break;case 29:t.prev=29,t.t0=t["catch"](0),r.inputCoinApprove=!0,r.loading=!1,(0,nn.Z)(t.t0.data||t.t0.message||t.t0),console.log(t.t0);case 35:case"end":return t.stop()}}),t,null,[[0,29]])})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=(0,tn.Z)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("TRX"!==r.coinPair[0].symbol){t.next=3;break}return r.inputCoinApprove=!0,t.abrupt("return");case 3:return t.next=5,(0,Sn.M1)(n,r.coinPair[0].address,l.address1);case 5:e=t.sent,r.inputCoinApprove=e.remaining?!e.remaining.isZero():!e.isZero();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=(0,tn.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r.loading=!0,t.next=4,(0,Sn.dE)(n,l.address1,r.coinPair[0].address,r.coinPair[0].decimal);case 4:return r.loading=!1,t.next=7,k();case 7:t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),r.loading=!1,(0,nn.Z)(t.t0.data||t.t0.message||t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),C=function(n){var e={timestamp:"",txHash:n,fromSymbol:r.coinPair[0].symbol,fromValue:r.inputAmount,toSymbol:r.coinPair[1].symbol,toValue:r.outAmount,status:"exchangeLoading"};t.dispatch("committedSwapTransaction",e)},P=(0,en.Fl)((function(){return t.state.swapTransactionList})),S=(0,en.Fl)((function(){return t.state.swapPendingTxHashList})),A=function(){s.value=setInterval((0,tn.Z)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.provider.trx.getConfirmedTransaction(S.value[0]);case 3:if(a=e.sent,!a){e.next=7;break}return e.next=7,t.dispatch("committedSwapTransaction",{timestamp:(0,zn.mr)(a.raw_data.timestamp),status:a.ret[0].contractRet,txHash:S.value[0]});case 7:e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])}))),3e3)};return(0,a.bv)((function(){t.dispatch("getSwapRecord")})),(0,a.yX)((0,tn.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.isActive){t.next=5;break}return t.next=3,_();case 3:return t.next=5,w();case 5:case"end":return t.stop()}}),t)})))),(0,a.YP)(o,(function(n,t){t&&!n&&(r.loading=!1,r.inputAmount="",r.outAmount="",r.minOutAmount="--")})),(0,a.m0)((function(){if(S.value.length>0){if(s.value)return;A()}else clearInterval(s.value),s.value=null})),{state:r,showCoinModal:u,setMaxInput:m,onExchangeCoin:d,onSelectCoin:f,inputChange:v,changeSetting:p,confirmSwap:y,isNumeric:kt.kE,formatTime:zn.mr,setTransactionInfo:C,swapTransactionList:P,btnStatus:h,onApprove:z,tipModal:o}}};Pt.render=J,Pt.__scopeId="data-v-2c8fa4b8";var St=Pt},6091:function(n,t,e){var a=e(7293),i=e(1361),r="​᠎";n.exports=function(n){return a((function(){return!!i[n]()||r[n]()!=r||i[n].name!==n}))}},3210:function(n,t,e){"use strict";var a=e(2109),i=e(3111).trim,r=e(6091);a({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},8704:function(n,t,e){"use strict";t["Z"]=e.p+"img/close-icon.bb2f771b.svg"},1296:function(n,t,e){var a="Expected a function",i=NaN,r="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,d="object"==typeof e.g&&e.g&&e.g.Object===Object&&e.g,p="object"==typeof self&&self&&self.Object===Object&&self,f=d||p||Function("return this")(),m=Object.prototype,v=m.toString,g=Math.max,w=Math.min,x=function(){return f.Date.now()};function b(n,t,e){var i,r,o,s,c,l,u=0,d=!1,p=!1,f=!0;if("function"!=typeof n)throw new TypeError(a);function m(t){var e=i,a=r;return i=r=void 0,u=t,s=n.apply(a,e),s}function v(n){return u=n,c=setTimeout(y,t),d?m(n):s}function b(n){var e=n-l,a=n-u,i=t-e;return p?w(i,o-a):i}function h(n){var e=n-l,a=n-u;return void 0===l||e>=t||e<0||p&&a>=o}function y(){var n=x();if(h(n))return z(n);c=setTimeout(y,b(n))}function z(n){return c=void 0,f&&i?m(n):(i=r=void 0,s)}function C(){void 0!==c&&clearTimeout(c),u=0,i=l=r=c=void 0}function P(){return void 0===c?s:z(x())}function S(){var n=x(),e=h(n);if(i=arguments,r=this,l=n,e){if(void 0===c)return v(l);if(p)return c=setTimeout(y,t),m(l)}return void 0===c&&(c=setTimeout(y,t)),s}return t=k(t)||0,_(e)&&(d=!!e.leading,p="maxWait"in e,o=p?g(k(e.maxWait)||0,t):o,f="trailing"in e?!!e.trailing:f),S.cancel=C,S.flush=P,S}function _(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function h(n){return!!n&&"object"==typeof n}function y(n){return"symbol"==typeof n||h(n)&&v.call(n)==r}function k(n){if("number"==typeof n)return n;if(y(n))return i;if(_(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=_(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(o,"");var e=c.test(n);return e||l.test(n)?u(n.slice(2),e?2:8):s.test(n)?i:+n}n.exports=b},8912:function(n,t,e){"use strict";t["Z"]=e.p+"img/no-data.798a5c21.png"}}]);